<!--
Copyright (c) 2018-2019 Uber Technologies, Inc.

This source code is licensed under the MIT license found in the
LICENSE file in the root directory of this source tree.
-->

import Example from '../../components/example';
import API from '../../components/api';
import Layout from '../../components/layout';
import Overrides from '../../components/overrides';
import {DocLink} from '../../components/markdown-elements';

import {StatefulPhoneInput, COUNTRIES} from 'baseui/phone-input/index.js';
import * as PhoneInputExports from 'baseui/phone-input/index.js';
import {Table} from 'baseui/table/index.js';
import {Block} from 'baseui/block/index.js';

import PhoneInputBasic from 'examples/phone-input/basic.js';
import PhoneInputAlternateCountry from 'examples/phone-input/alternate-country.js';
import PhoneInputControlled from 'examples/phone-input/controlled.js';
import PhoneInputLocalized from 'examples/phone-input/localized.js';
import WithNestedOverrides from 'examples/phone-input/nested-overrides.js';

export default Layout;

# Phone Input

The Phone Input is used to collect phone numbers with international dial codes.
It contains a dropdown which allows the user to choose from a list of countries and dial codes.

<Example title="Basic Usage" path="phone-input/basic.js">
  <PhoneInputBasic />
</Example>

<Example
  title="Alternate Default Country"
  path="phone-input/alternate-country.js"
>
  <PhoneInputAlternateCountry />
</Example>

<Example title="Controlled" path="phone-input/controlled.js">
  <PhoneInputControlled />
</Example>

<Example
  title="Localized Country Names"
  path="phone-input/localized.js"
>
  <PhoneInputLocalized />
</Example>

<Example
  title="With Nested Overrides"
  path="examples/phone-input/nested-overrides.js"
>
  <WithNestedOverrides />
</Example>

<DocLink href="/theming/understanding-overrides/#override-nested-components">
  Click here to learn more about nested overrides
</DocLink>{' '}

## Supported Countries

The following countries are available in the country selector dropdown.
You can import these as an object `COUNTRIES` from `baseui/phone-input`.
Note, the country objects are formatted for ease of use with our `Select` component.

```js
COUNTRIES: {
  id: string,      // Country ISO
  label: string,   // Country Name
  dialCode: string // Country Dial Code
}
```

<Block height="400px">
  <Table
    columns={['ID', 'Label', 'Dial Code']}
    data={Object.values(COUNTRIES).map(c => [c.id, c.label, c.dialCode])}
  />
</Block>

## Overrides

<Overrides
  name="Phone Input"
  component={PhoneInputExports}
  renderExample={props => <StatefulPhoneInput {...props} />}
  whitelisted={[
    'Input',
    'DialCode',
    'CountrySelect',
    'CountrySelectDropdown',
    'CountrySelectDropdownListItem',
    'CountrySelectDropdownFlagColumn',
    'CountrySelectDropdownNameColumn',
    'CountrySelectDropdownDialcodeColumn',
  ]}
/>

<API
  heading="PhoneInput API"
  api={require('!!@uber-web-ui/extract-react-types-loader!../../../src/phone-input/phone-input.js')}
/>

<API
  heading="StatefulPhoneInput API"
  api={require('!!@uber-web-ui/extract-react-types-loader!../../../src/phone-input/stateful-phone-input.js')}
/>

<API
  heading="StatefulPhoneInputContainer API"
  api={require('!!@uber-web-ui/extract-react-types-loader!../../../src/phone-input/stateful-phone-input-container.js')}
/>

<API
  heading="CountrySelect API"
  api={require('!!@uber-web-ui/extract-react-types-loader!../../../src/phone-input/country-select.js')}
/>

<API
  heading="CountrySelectDropdown API"
  api={require('!!@uber-web-ui/extract-react-types-loader!../../../src/phone-input/country-select-dropdown.js')}
/>
